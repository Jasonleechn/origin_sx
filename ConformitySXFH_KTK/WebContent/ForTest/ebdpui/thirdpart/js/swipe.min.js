function Swipe(V,G){function X(){K=H.children,D=new Array(K.length),Z=V.getBoundingClientRect().width||V.offsetWidth,H.style.width=K.length*Z+"px";var a=K.length;while(a--){var b=K[a];b.style.width=Z+"px",b.setAttribute("data-index",a),P.transitions&&(b.style.left=a*-Z+"px",C(a,U>a?-Z:U<a?Z:0,0))}P.transitions||(H.style.left=U*-Z+"px"),V.style.visibility="visible"}function Q(){U?W(U-1):G.continuous&&W(K.length-1)}function J(){U<K.length-1?W(U+1):G.continuous&&W(0)}function W(c,d){if(U==c){return}if(P.transitions){var b=Math.abs(U-c)-1,a=Math.abs(U-c)/(U-c);while(b--){C((c>U?c:U)-b-1,Z*a,0)}C(U,Z*a,d||O),C(c,0,d||O)}else{R(U*-Z,c*-Z,d||O)}U=c,I(G.callback&&G.callback(U,K[U]))}function C(b,a,c){M(b,a,c),D[b]=a}function M(d,b,f){var c=K[d],a=c&&c.style;if(!a){return}a.webkitTransitionDuration=a.MozTransitionDuration=a.msTransitionDuration=a.OTransitionDuration=a.transitionDuration=f+"ms",a.webkitTransform="translate("+b+"px,0)translateZ(0)",a.msTransform=a.MozTransform=a.OTransform="translateX("+b+"px)"}function R(d,f,c){if(!c){H.style.left=f+"px";return}var b=+(new Date),a=setInterval(function(){var e=+(new Date)-b;if(e>c){H.style.left=f+"px",z&&B(),G.transitionEnd&&G.transitionEnd.call(event,U,K[U]),clearInterval(a);return}H.style.left=(f-d)*(Math.floor(e/c*100)/100)+d+"px"},4)}function B(){Y=setTimeout(J,z)}function F(){z=0,clearTimeout(Y)}var L=function(){},I=function(a){setTimeout(a||L,0)},P={addEventListener:!!window.addEventListener,touch:"ontouchstart" in window||window.DocumentTouch&&document instanceof DocumentTouch,transitions:function(b){var a=["transformProperty","WebkitTransform","MozTransform","OTransform","msTransform"];
for(var c in a){if(b.style[a[c]]!==undefined){return !0}}return !1}(document.createElement("swipe"))};if(!V){return}var H=V.children[0],K,D,Z;G=G||{};var U=parseInt(G.startSlide,10)||0,O=G.speed||300;G.continuous=G.continuous?G.continuous:!0;var z=G.auto||0,Y,k={},A={},j,q={handleEvent:function(a){switch(a.type){case"touchstart":this.start(a);break;case"touchmove":this.move(a);break;case"touchend":I(this.end(a));break;case"webkitTransitionEnd":case"msTransitionEnd":case"oTransitionEnd":case"otransitionend":case"transitionend":I(this.transitionEnd(a));break;case"resize":I(X.call())}G.stopPropagation&&a.stopPropagation()},start:function(b){var a=b.touches[0];k={x:a.pageX,y:a.pageY,time:+(new Date)},j=undefined,A={},H.addEventListener("touchmove",this,!1),H.addEventListener("touchend",this,!1)},move:function(a){if(a.touches.length>1||a.scale&&a.scale!==1){return}G.disableScroll&&a.preventDefault();var b=a.touches[0];A={x:b.pageX-k.x,y:b.pageY-k.y},typeof j=="undefined"&&(j=!!(j||Math.abs(A.x)<Math.abs(A.y))),j||(a.preventDefault(),F(),A.x=A.x/(!U&&A.x>0||U==K.length-1&&A.x<0?Math.abs(A.x)/Z+1:1),M(U-1,A.x+D[U-1],0),M(U,A.x+D[U],0),M(U+1,A.x+D[U+1],0))},end:function(d){var g=+(new Date)-k.time,b=Number(g)<250&&Math.abs(A.x)>20||Math.abs(A.x)>Z/2,a=!U&&A.x>0||U==K.length-1&&A.x<0,f=A.x<0;j||(b&&!a?(f?(C(U-1,-Z,0),C(U,D[U]-Z,O),C(U+1,D[U+1]-Z,O),U+=1):(C(U+1,Z,0),C(U,D[U]+Z,O),C(U-1,D[U-1]+Z,O),U+=-1),G.callback&&G.callback(U,K[U])):(C(U-1,-Z,O),C(U,0,O),C(U+1,Z,O))),H.removeEventListener("touchmove",q,!1),H.removeEventListener("touchend",q,!1)
},transitionEnd:function(a){parseInt(a.target.getAttribute("data-index"),10)==U&&(z&&B(),G.transitionEnd&&G.transitionEnd.call(a,U,K[U]))}};return X(),z&&B(),P.addEventListener?(P.touch&&H.addEventListener("touchstart",q,!1),P.transitions&&(H.addEventListener("webkitTransitionEnd",q,!1),H.addEventListener("msTransitionEnd",q,!1),H.addEventListener("oTransitionEnd",q,!1),H.addEventListener("otransitionend",q,!1),H.addEventListener("transitionend",q,!1)),window.addEventListener("resize",q,!1)):window.onresize=function(){X()},{setup:function(){X()},slide:function(b,a){W(b,a)},prev:function(){F(),Q()},next:function(){F(),J()},getPos:function(){return U},kill:function(){F(),H.style.width="auto",H.style.left=0;var b=K.length;while(b--){var a=K[b];a.style.width="100%",a.style.left=0,P.transitions&&M(b,0,0)}P.addEventListener?(H.removeEventListener("touchstart",q,!1),H.removeEventListener("webkitTransitionEnd",q,!1),H.removeEventListener("msTransitionEnd",q,!1),H.removeEventListener("oTransitionEnd",q,!1),H.removeEventListener("otransitionend",q,!1),H.removeEventListener("transitionend",q,!1),window.removeEventListener("resize",q,!1)):window.onresize=null}}}(window.jQuery||window.Zepto)&&function(a){a.fn.Swipe=function(b){return this.each(function(){a(this).data("Swipe",new Swipe(a(this)[0],b))})}}(window.jQuery||window.Zepto);